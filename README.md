# 🌱 **스마트 화분(Smart Pot) 프로젝트 개요**

라즈베리파이, PCF8591 ADC, 조도/토양 수분 센서, 워터펌프, Flask 웹 서버를 이용하여

**실시간 상태 모니터링 + 자동 제어 + 사용자 인터페이스**를 구현한 스마트 화분 프로젝트입니다.

---

## 📌 **프로젝트 주요 기능**

### **✔ 실시간 센서 측정**

- 조도 센서(A0)
- 토양 수분 센서(A2)
- ADC(PCF8591)로 아날로그 값을 0~255 범위로 변환 후 퍼센트화

---

### **✔ 자동 제어 기능**

- **환경이 어두워지면 LED 자동 점등**
- **수분 부족 시 사용자에게 팝업 알림**
- **수분 상태 확인 후 물주기 실행 가능 (/api/water)**
- **2초간 펌프 작동 → 자동 끔**

---

### **✔ Flask 기반 API 서버**

| API | 설명 |
| --- | --- |
| `/api/sensor` | 조도·수분 센서값을 JSON으로 반환 |
| `/api/water` | 워터펌프 동작 |
| `/home` | 메인 UI |
| `/status` | 상태 대시보드 |

---

### **✔ 웹 UI (HTML/CSS/JavaScript)**

- 5초마다 REST API 호출 → UI 자동 갱신
- 식물 캐릭터 표정 변화
    
    (좋음 / 말라감 / 어두움 / 슬픔)
    
- 조도 감소 시 화면 어둡게 overlay 처리
- 수분/조도 부족 시 팝업 알림
- 수평 그래프 기반 상태 시각화

---

## 📂 **프로젝트 구조**

```
smart_pot/
│── app.py                  # Flask 서버
│── sensor.py               # 센서·펌프·LED 제어 로직
│
├── templates/
│   ├── home.html           # 메인 화면
│   └── status.html         # 상태 대시보드
│
├── static/
│   ├── img/                # 식물, 버튼, 팝업 이미지
│   └── style.css           # 전체 UI 스타일
│
└── README.md

```

---

## 🔌 **시스템 아키텍처 흐름도**

```
[조도센서] ——┐
             ├→ [PCF8591 ADC] → [sensor.py] → 센서값 처리
[수분센서] ——┘

                              ↓
                 [Flask 서버(app.py)]
         /api/sensor           |            /api/water
              ↓                |                ↓
    [웹 UI (HTML/CSS/JS)] ←———┘→ [워터펌프 제어]

```

---

## ⚙ **소프트웨어 동작 요약**

1. **센서값 측정**
    - ADC → 조도·수분값 퍼센트 변환
2. **Flask API로 전달**
    - `/api/sensor`
3. **웹 UI에서 5초마다 fetch**
    - 식물 이미지 상태 업데이트
    - 그래프 UI 변경
    - 팝업 조건 체크
4. **자동 제어**
    - 조도 낮음 → LED ON
    - 물주기 버튼 → 펌프 ON(2초)

---

## 🛠 사용 기술

- **Hardware:** Raspberry Pi, PCF8591, 조도센서, 토양 수분센서, 워터펌프, MOSFET
- **Software:** Python, Flask, HTML/CSS, JavaScript
- **Protocol:** I2C 기반 ADC 데이터 수집
- **Version Control:** GitHub

---

## 🎯 프로젝트 목적

- IoT 제어 + 실시간 모니터링 시스템 경험
- 아날로그 센서 → 디지털 데이터화
- 간단한 UI/UX 대시보드 구축
- 자동화된 식물 관리 시스템 구축
